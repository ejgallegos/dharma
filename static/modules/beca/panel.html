<!--DATA TABLE-->
<link href="{url_static}vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
<link href="{url_static}vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
<!--DATA TABLE-->
<div class="col-lg-12 hidden-print">
    <ul class="breadcrumb">
        <li><a href="{url_app}/usuario/{panel_general}"><i class="fa fa-home"></i> HOME</a></li>
        <li><a href="{url_app}/plan/panel">Panel Becas</a></li>
    </ul>
</div>
<div class="col-md-5 col-sm-5 col-xs-12 hidden-print">
    <div class="x_panel">
        <div class="x_title">
            <h2><i class="fa fa-table"></i>&nbsp;&nbsp; {plan-denominacion}</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                <li><a class="close-link"><i class="fa fa-close"></i></a></li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <table id="tbl_beca" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Resolución</th>
                        <th>Localidad</th>
                        <th>Tipo</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {tbl_beca}
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="page-title visible-print" style="display: none;">
    <div class="title" style="text-align: center;"><h3 style="font-size: 35px;">INFORME REDUCIDO</h3></div>
</div>
<div class="col-md-7 col-sm-7 col-xs-12">
    <h2 class="visible-print" style="display: none;"> </h2>
    <div class="x_panel">
        <div class="x_title hidden-print" style="padding-bottom: 0px;">
            <h2 style="padding-bottom: 0px; margin-bottom: 0px; margin-top: 0px;">
                <form style="margin-bottom: 3px;">
                    <div class="input-group" style="width: 250px; padding-bottom: 0px; margin-bottom: 0px; float:">
                        <input type="text" class="form-control" name="periodo" id="periodo" placeholder="AAAAMM" data-inputmask="'mask': '999999'">
                        <span class="fa fa-user form-control-feedback right" aria-hidden="true"></span>
                        <input type="hidden" class="form-control" name="plan_id" id="plan_id" value="{plan-plan_id}" required>-->
                        <span class="input-group-btn"><button type="button" class="btn btn-primary" onClick="enviarEnlace();">Ir!</button></span>
                    </div>
                </form>
            </h2>
            <ul class="nav navbar-right panel_toolbox hidden-print">
                <li><a href="#" onClick="window.print();"><i class="fa fa-print"></i></a></li>
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                <li><a class="close-link"><i class="fa fa-close"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="row tile_count">
            <h2 align="center" style="margin-top: 0px;">{periodo}</h2>
            <div class="col-md-3 col-sm-6 col-xs-6 tile_stats_count">
                <span class="count_top"><i class="fa fa-usd"></i> Total beca</span>
                <div class="count">${pago-total}</div>
                <span class="count_bottom">
                    <i class="blue"><i class="fa fa-calendar"></i> Monto total del plan </i>
                </span>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6 tile_stats_count">
                <span class="count_top"><i class="fa fa-usd"></i> Total pagado</span>
                <div class="count green">${pago-periodo}</div>
                <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i> En período actual</i></span>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6 tile_stats_count">
                <span class="count_top"><i class="fa fa-usd"></i> Total saldo</span>
                <div class="count red">${saldo-periodo}</div>
                <span class="count_bottom"><i class="red"><i class="fa fa-sort-desc"></i> En período actual</i></span>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total becas pagadas</span>
              <div class="count blue">{cantidad-pagos-periodo}</div>
              <span class="count_bottom"><i class="blue"><i class="fa fa-dot-circle-o"></i>Para todas las localidades </i></span>
            </div>
        </div>
        <div class="x_content">
            <div id="graph_bar" style="width:100%; height:280px;"></div>
        </div>
    </div>
    <div class="x_panel">
        <div class="x_title">
            <h2>Cantidad de Becas <small>Por localidad</small></h2>
            <ul class="nav navbar-right panel_toolbox hidden-print">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                <li><a class="close-link"><i class="fa fa-close"></i></a></li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <div class="dashboard-widget-content">
                <div class="col-md-6 hidden-small">
                    <table class="countries_list">
                        <tbody>
                            {tbl_cant_beneficio_localidad1}
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6 hidden-small">
                    <table class="countries_list">
                        <tbody>
                            {tbl_cant_beneficio_localidad2}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Datatables -->
<script src="{url_static}vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="{url_static}vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script src="{url_static}vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="{url_static}vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        $('#tbl_beca').dataTable( {
            "aaSorting": [[ 0, "asc" ]]
          , "iDisplayLength":10
        } );
    } );
</script>

<!-- Charts -->
<script src="{url_static}vendors/raphael/raphael.min.js"></script>
<script src="{url_static}vendors/morris.js/morris.min.js"></script>
<script src="{url_static}vendors/Chart.js/dist/Chart.min.js"></script>
<script>
    function init_morris_charts() {
        if( typeof (Morris) === 'undefined'){ return; }
        console.log('init_charts');
            
        if ($('#graph_bar').length){ 
            
            Morris.Bar({
                element: 'graph_bar',
                data: [
                    {carga_barchart_pago_localidad}
                ],
                xkey: 'device',
                ykeys: ['geekbench'],
                labels: ['Monto'],
                barRatio: 0.4,
                barColors: ['#26B99A', '#34495E', '#ACADAC', '#3498DB'],
                xLabelAngle: 35,
                hideHover: 'auto',
                resize: true
            });

        }
    }

    $(document).ready(function() {
        init_morris_charts();
    });   

    function enviarEnlace() {
        var plan_id = document.getElementById("plan_id").value;
        var periodo = document.getElementById("periodo").value;
        location.href = '{url_app}/beca/panel/' + plan_id + '@' + periodo;
    }
</script>
    